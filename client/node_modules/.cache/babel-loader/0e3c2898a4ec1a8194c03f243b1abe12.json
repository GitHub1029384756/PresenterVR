{"ast":null,"code":"import _objectSpread from\"C:/Users/ryanj/Documents/GitHub/Group-14-VR-Enviroment-Project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _slicedToArray from\"C:/Users/ryanj/Documents/GitHub/Group-14-VR-Enviroment-Project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./login.css';import'../common/style/global.css';import{UserCheck}from'react-feather';import{useForm}from'react-hook-form';import axios from'axios';import{Container,Row,Col,Button}from'react-bootstrap';import Navigation from'../common/navbar/navbar.js';import Footer from'../common/footer/footer.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Login(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var _useForm=useForm(),register=_useForm.register,handleSubmit=_useForm.handleSubmit;var onSubmit=function onSubmit(data){console.log(data);axios({method:\"POST\",url:\"login/auth\",data:data}).then(function(response){if(response.data===200){document.cookie=\"Bearer=\".concat(response.data.access_token);window.location=\"/support\";}}).catch(function(error){if(error.response.status===401){setError(\"You have entered an incorrect password\");}else if(error.response.status===404){setError(\"It appears you don't have an account with us, try registering\");}else if(error.response.status===422){setError(\"You have not entered your username and/or password\");}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(\"section\",{className:\"login\",children:/*#__PURE__*/_jsx(Container,{className:\"h-100 d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(Row,{className:\"login-row\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(\"form\",{\"data-aos\":\"fade-down\",className:\"form-box\",onSubmit:handleSubmit(onSubmit),children:[/*#__PURE__*/_jsx(UserCheck,{className:\"icon mx-auto d-flex justify-content-center\",size:100}),/*#__PURE__*/_jsx(\"h3\",{className:\"header-text text-center\",children:\"login\"}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"label\",{children:\"Username\"})})}),/*#__PURE__*/_jsx(Row,{className:\"pb-3\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"username\")),{},{className:\"rounded w-100\",type:\"Username\",placeholder:\"Username\"}))})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"label\",{children:\"Password\"})})}),/*#__PURE__*/_jsx(Row,{className:\"pb-3\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},register(\"password\")),{},{className:\"rounded w-100\",type:\"password\",placeholder:\"Password\"}))})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:error!==undefined?/*#__PURE__*/_jsx(\"p\",{className:\"text-center error\",\"data-aos\":\"fade-in\",children:error}):/*#__PURE__*/_jsx(_Fragment,{})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Button,{className:\"button btn-outline-grey\",type:\"submit\",children:\"Login\"})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:error===\"It appears you don't have an account with us, try registering\"?/*#__PURE__*/_jsxs(\"p\",{className:\"text-center\",\"data-aos\":\"fade-in\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Register\"})]}):/*#__PURE__*/_jsx(_Fragment,{})})})]})})})})}),/*#__PURE__*/_jsx(Footer,{})]});}export default Login;","map":{"version":3,"sources":["C:/Users/ryanj/Documents/GitHub/Group-14-VR-Enviroment-Project/client/src/routes/login/login.js"],"names":["React","useState","UserCheck","useForm","axios","Container","Row","Col","Button","Navigation","Footer","Login","undefined","error","setError","register","handleSubmit","onSubmit","data","console","log","method","url","then","response","document","cookie","access_token","window","location","catch","status"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport './login.css';\r\nimport '../common/style/global.css';\r\nimport {UserCheck} from 'react-feather'\r\nimport {useForm} from 'react-hook-form';\r\nimport axios from 'axios';\r\nimport {Container, Row, Col, Button} from 'react-bootstrap';\r\nimport Navigation from '../common/navbar/navbar.js';\r\nimport Footer from '../common/footer/footer.js';\r\n\r\nfunction Login() {\r\n\r\n    const [error, setError] = useState(undefined)\r\n    const {register, handleSubmit} = useForm();\r\n    const onSubmit = (data) =>{\r\n        console.log(data)\r\n        axios({\r\n            method: \"POST\",\r\n            url: \"login/auth\",\r\n            data: data\r\n        })\r\n        .then((response) =>{\r\n            if(response.data === 200){\r\n                document.cookie = `Bearer=${response.data.access_token}`;\r\n                window.location = \"/support\";\r\n            }\r\n        })\r\n        .catch((error) =>{\r\n            if(error.response.status === 401){\r\n                setError(\"You have entered an incorrect password\")\r\n            }\r\n            else if(error.response.status === 404){\r\n                setError(\"It appears you don't have an account with us, try registering\")\r\n            } \r\n            else if(error.response.status === 422){\r\n                setError(\"You have not entered your username and/or password\")\r\n            }\r\n        });\r\n\r\n    }\r\n\r\n    return (\r\n        <>  \r\n            <Navigation></Navigation>\r\n            <section className = \"login\">\r\n                <Container className = \"h-100 d-flex align-items-center justify-content-center\">\r\n                    <Row className = \"login-row\">\r\n                        <Col>\r\n                            <form data-aos = \"fade-down\" className = \"form-box\" onSubmit = {handleSubmit(onSubmit)}>\r\n                                <UserCheck className = \"icon mx-auto d-flex justify-content-center\" size = {100}></UserCheck>\r\n                                <h3 className = \"header-text text-center\">login</h3>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <label>Username</label>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row className = \"pb-3\">\r\n                                    <Col>\r\n                                        <input {...register(\"username\")} className = \"rounded w-100\" type = \"Username\" placeholder = \"Username\"></input>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col>\r\n                                        <label>Password</label>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row className = \"pb-3\">\r\n                                    <Col>\r\n                                        <input {...register(\"password\")} className = \"rounded w-100\" type = \"password\" placeholder = \"Password\"></input>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col>\r\n                                        {(error !== undefined) ?  (<p className = \"text-center error\" data-aos = \"fade-in\">{error}</p>) : <></>}\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col className = \"d-flex justify-content-center\">\r\n                                        <Button className = \"button btn-outline-grey\" type = \"submit\">Login</Button>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col>\r\n                                        {(error === \"It appears you don't have an account with us, try registering\") ? (<p className = \"text-center\" data-aos = \"fade-in\">Don't have an account? <a href = \"/register\">Register</a></p>) : <></>}\r\n                                    </Col>\r\n                                </Row>\r\n                            </form>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </section>\r\n            <Footer></Footer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}
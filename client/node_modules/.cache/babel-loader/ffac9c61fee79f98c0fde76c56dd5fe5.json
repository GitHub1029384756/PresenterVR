{"ast":null,"code":"import _slicedToArray from\"C:/Users/ryanj/Documents/GitHub/Group-14-VR-Enviroment-Project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./register.css';import'../common/style/global.css';import{UserPlus}from'react-feather';import axios from'axios';import{Container,Row,Col,Form,Button}from'react-bootstrap';import Navigation from'../common/navbar/navbar.js';import Footer from'../common/footer/footer.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Register(){var validatePassword=function validatePassword(password){return /[A-Z]/.test(password)&&/[a-z]/.test(password)&&/[0-9]/.test(password)&&password.length>=8&&password.length<=20;};var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var handleSubmit=function handleSubmit(event){event.preventDefault();if(!validatePassword(event.currentTarget.elements.password.value)){setError(\"Your password is invalid (must include uppercase letter(s), lowercase letter(s), number(s) and be between 8 - 20 characters\");return;}else if(event.currentTarget.elements.password.value!==event.currentTarget.elements.confirm.value){setError(\"Confirmation password doesn't match\");return;};axios({method:\"POST\",url:\"register/auth\",data:{username:event.currentTarget.elements.username.value,password:event.currentTarget.elements.password.value}}).then(function(response){document.cookie=\"Bearer=\".concat(response.data.access_token);window.location=\"/support\";}).catch(function(error){if(error.response.status===401){setError(\"Your password is invalid (must include uppercase letter(s), lowercase letter(s), number(s) and be between 8 - 20 characters\");}else if(error.response.status===409){setError(\"It appears you have an account with us, try logging-in\");}else if(error.response.status===422){setError(\"You have not entered your username and/or password\");}});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(\"section\",{className:\"register\",children:/*#__PURE__*/_jsx(Container,{className:\"h-100 d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(Row,{className:\"register-row\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form,{\"data-aos\":\"fade-down\",className:\"form-box\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(UserPlus,{className:\"icon mx-auto d-flex justify-content-center\",size:100}),/*#__PURE__*/_jsx(\"h3\",{className:\"header-text text-center\",children:\"Register\"}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"rounded\",type:\"Username\",id:\"username\",placeholder:\"Username\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"rounded\",type:\"password\",id:\"password\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Confirm Password\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"rounded\",type:\"password\",id:\"confirm\",placeholder:\"Confirm Password\"})]}),/*#__PURE__*/_jsx(Row,{className:\"py-3\",children:/*#__PURE__*/_jsx(Col,{children:error!==undefined?/*#__PURE__*/_jsx(\"p\",{className:\"text-center error\",\"data-aos\":\"fade-in\",children:error}):/*#__PURE__*/_jsx(_Fragment,{})})}),/*#__PURE__*/_jsx(Row,{className:\"pb-3\",children:/*#__PURE__*/_jsx(Col,{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Button,{className:\"button btn-outline-grey\",type:\"submit\",children:\"Register\"})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:error===\"It appears you have an account with us, try logging-in\"?/*#__PURE__*/_jsxs(\"p\",{className:\"text-center\",\"data-aos\":\"fade-in\",children:[\"Have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/login\",children:\"Login\"})]}):/*#__PURE__*/_jsx(_Fragment,{})})})]})})})})}),/*#__PURE__*/_jsx(Footer,{})]});}export default Register;","map":{"version":3,"sources":["C:/Users/ryanj/Documents/GitHub/Group-14-VR-Enviroment-Project/client/src/routes/register/register.js"],"names":["React","useState","UserPlus","axios","Container","Row","Col","Form","Button","Navigation","Footer","Register","validatePassword","password","test","length","undefined","error","setError","handleSubmit","event","preventDefault","currentTarget","elements","value","confirm","method","url","data","username","then","response","document","cookie","access_token","window","location","catch","status"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport './register.css';\r\nimport '../common/style/global.css';\r\nimport {UserPlus} from 'react-feather';\r\nimport axios from 'axios';\r\nimport {Container, Row, Col, Form, Button} from 'react-bootstrap';\r\nimport Navigation from '../common/navbar/navbar.js';\r\nimport Footer from '../common/footer/footer.js';\r\n\r\nfunction Register() {\r\n\r\n    const validatePassword = (password) =>{\r\n        return /[A-Z]/.test(password) && /[a-z]/.test(password) && /[0-9]/.test(password) && password.length >= 8 && password.length <= 20;\r\n      };\r\n\r\n    const [error, setError] = useState(undefined);\r\n   \r\n    const handleSubmit = (event) =>{\r\n        event.preventDefault();\r\n        if(!validatePassword(event.currentTarget.elements.password.value)){\r\n            setError(\"Your password is invalid (must include uppercase letter(s), lowercase letter(s), number(s) and be between 8 - 20 characters\")\r\n            return\r\n        }\r\n        else if(event.currentTarget.elements.password.value !== event.currentTarget.elements.confirm.value){\r\n            setError(\"Confirmation password doesn't match\")\r\n            return\r\n        };\r\n        axios({\r\n            method: \"POST\",\r\n            url: \"register/auth\",\r\n            data: {username: event.currentTarget.elements.username.value, password: event.currentTarget.elements.password.value}\r\n        })\r\n        .then((response) =>{\r\n            document.cookie = `Bearer=${response.data.access_token}`;\r\n            window.location = \"/support\";\r\n        })\r\n        .catch((error) =>{\r\n            if(error.response.status === 401){\r\n                setError(\"Your password is invalid (must include uppercase letter(s), lowercase letter(s), number(s) and be between 8 - 20 characters\")\r\n            }\r\n            else if(error.response.status === 409){\r\n                setError(\"It appears you have an account with us, try logging-in\")\r\n            } \r\n            else if(error.response.status === 422){\r\n                setError(\"You have not entered your username and/or password\")\r\n            }\r\n        });\r\n    };\r\n\r\n    return (\r\n        <>  \r\n            <Navigation></Navigation>\r\n            <section className = \"register\">\r\n                <Container className = \"h-100 d-flex align-items-center justify-content-center\">\r\n                    <Row className = \"register-row\">\r\n                        <Col>\r\n                            <Form data-aos = \"fade-down\" className = \"form-box\" onSubmit = {handleSubmit}>\r\n                                <UserPlus className = \"icon mx-auto d-flex justify-content-center\" size = {100}></UserPlus>\r\n                                <h3 className = \"header-text text-center\">Register</h3>\r\n                                <Form.Group>\r\n                                    <Form.Label>Username</Form.Label>\r\n                                    <Form.Control className = \"rounded\" type = \"Username\" id = \"username\" placeholder = \"Username\"></Form.Control>\r\n                                </Form.Group>\r\n                                <Form.Group>\r\n                                    <Form.Label>Password</Form.Label>\r\n                                    <Form.Control className = \"rounded\" type = \"password\" id = \"password\" placeholder = \"Password\"></Form.Control>\r\n                                </Form.Group>\r\n                                <Form.Group>\r\n                                    <Form.Label>Confirm Password</Form.Label>\r\n                                    <Form.Control className = \"rounded\" type = \"password\" id = \"confirm\" placeholder = \"Confirm Password\"></Form.Control>\r\n                                </Form.Group>\r\n                                <Row className = \"py-3\">\r\n                                    <Col>\r\n                                        {(error !== undefined) ?  (<p className = \"text-center error\" data-aos = \"fade-in\">{error}</p>) : <></>}\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row  className = \"pb-3\">\r\n                                    <Col className = \"d-flex justify-content-center\">\r\n                                        <Button className = \"button btn-outline-grey\" type = \"submit\">Register</Button>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col>\r\n                                        {(error === \"It appears you have an account with us, try logging-in\") ? (<p className = \"text-center\" data-aos = \"fade-in\">Have an account? <a href = \"/login\">Login</a></p>) : <></>}\r\n                                    </Col>\r\n                                </Row>\r\n                            </Form>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </section>\r\n            <Footer></Footer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Register\r\n"]},"metadata":{},"sourceType":"module"}
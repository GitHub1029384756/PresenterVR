{"ast":null,"code":"import _slicedToArray from\"C:/Users/ryanj/Documents/GitHub/Group-14-VR-Enviroment-Project/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import'./login.css';import'../common/style/global.css';import{UserCheck}from'react-feather';import axios from'axios';import{Container,Row,Col,Form,Button}from'react-bootstrap';import Navigation from'../common/navbar/navbar.js';import Footer from'../common/footer/footer.js';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function Login(){var _useState=useState(undefined),_useState2=_slicedToArray(_useState,2),error=_useState2[0],setError=_useState2[1];var handleSubmit=function handleSubmit(event){axios({method:\"POST\",url:\"login/auth\",data:{username:event.currentTarget.elements.email.value,password:event.currentTarget.elements.password.value}}).then(function(response){if(response.data===200){document.cookie=\"Bearer=\".concat(response.data.access_token);window.location=\"/support\";}}).catch(function(error){if(error.response.status===401){setError(\"You have entered an incorrect password\");}else if(error.response.status===404){setError(\"It appears you don't have an account with us, try registering\");}else if(error.response.status===422){setError(\"You have not entered your username and/or password\");}});event.preventDefault();};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(\"section\",{className:\"login\",children:/*#__PURE__*/_jsx(Container,{className:\"h-100 d-flex align-items-center justify-content-center\",children:/*#__PURE__*/_jsx(Row,{className:\"login-row\",children:/*#__PURE__*/_jsx(Col,{children:/*#__PURE__*/_jsxs(Form,{\"data-aos\":\"fade-down\",className:\"form-box\",onSubmit:handleSubmit,children:[/*#__PURE__*/_jsx(UserCheck,{className:\"icon mx-auto d-flex justify-content-center\",size:100}),/*#__PURE__*/_jsx(\"h3\",{className:\"header-text text-center\",children:\"Register\"}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Username\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"rounded\",type:\"Username\",id:\"username\",placeholder:\"Username\"})]}),/*#__PURE__*/_jsxs(Form.Group,{children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Password\"}),/*#__PURE__*/_jsx(Form.Control,{className:\"rounded\",type:\"password\",id:\"password\",placeholder:\"Password\"})]}),/*#__PURE__*/_jsx(Row,{className:\"py-3\",children:/*#__PURE__*/_jsx(Col,{children:error!==undefined?/*#__PURE__*/_jsx(\"p\",{className:\"text-center error\",\"data-aos\":\"fade-in\",children:error}):/*#__PURE__*/_jsx(_Fragment,{})})}),/*#__PURE__*/_jsx(Row,{className:\"pb-3\",children:/*#__PURE__*/_jsx(Col,{className:\"d-flex justify-content-center\",children:/*#__PURE__*/_jsx(Button,{className:\"button btn-outline-grey\",type:\"submit\",children:\"Login\"})})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{children:error===\"It appears you don't have an account with us, try registering\"?/*#__PURE__*/_jsxs(\"p\",{className:\"text-center\",\"data-aos\":\"fade-in\",children:[\"Don't have an account? \",/*#__PURE__*/_jsx(\"a\",{href:\"/register\",children:\"Register\"})]}):/*#__PURE__*/_jsx(_Fragment,{})})})]})})})})}),/*#__PURE__*/_jsx(Footer,{})]});}export default Login;","map":{"version":3,"sources":["C:/Users/ryanj/Documents/GitHub/Group-14-VR-Enviroment-Project/client/src/routes/login/login.js"],"names":["React","useState","UserCheck","axios","Container","Row","Col","Form","Button","Navigation","Footer","Login","undefined","error","setError","handleSubmit","event","method","url","data","username","currentTarget","elements","email","value","password","then","response","document","cookie","access_token","window","location","catch","status","preventDefault"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport './login.css';\r\nimport '../common/style/global.css';\r\nimport {UserCheck} from 'react-feather'\r\nimport axios from 'axios';\r\nimport {Container, Row, Col, Form, Button} from 'react-bootstrap';\r\nimport Navigation from '../common/navbar/navbar.js';\r\nimport Footer from '../common/footer/footer.js';\r\n\r\nfunction Login() {\r\n    const [error, setError] = useState(undefined);\r\n   \r\n    const handleSubmit = (event) =>{\r\n        axios({\r\n            method: \"POST\",\r\n            url: \"login/auth\",\r\n            data: {username: event.currentTarget.elements.email.value, password: event.currentTarget.elements.password.value}\r\n        })\r\n        .then((response) =>{\r\n            if(response.data === 200){\r\n                document.cookie = `Bearer=${response.data.access_token}`;\r\n                window.location = \"/support\";\r\n            }\r\n        })\r\n        .catch((error) =>{\r\n            if(error.response.status === 401){\r\n                setError(\"You have entered an incorrect password\")\r\n            }\r\n            else if(error.response.status === 404){\r\n                setError(\"It appears you don't have an account with us, try registering\")\r\n            } \r\n            else if(error.response.status === 422){\r\n                setError(\"You have not entered your username and/or password\")\r\n            }\r\n        });\r\n        event.preventDefault();\r\n    };\r\n\r\n    return (\r\n        <>  \r\n            <Navigation></Navigation>\r\n            <section className = \"login\">\r\n                <Container className = \"h-100 d-flex align-items-center justify-content-center\">\r\n                    <Row className = \"login-row\">\r\n                        <Col>\r\n                            <Form data-aos = \"fade-down\" className = \"form-box\" onSubmit = {handleSubmit}>\r\n                                <UserCheck className = \"icon mx-auto d-flex justify-content-center\" size = {100}></UserCheck>\r\n                                <h3 className = \"header-text text-center\">Register</h3>\r\n                                <Form.Group>\r\n                                    <Form.Label>Username</Form.Label>\r\n                                    <Form.Control className = \"rounded\" type = \"Username\" id = \"username\" placeholder = \"Username\"></Form.Control>\r\n                                </Form.Group>\r\n                                <Form.Group>\r\n                                    <Form.Label>Password</Form.Label>\r\n                                    <Form.Control className = \"rounded\" type = \"password\" id = \"password\" placeholder = \"Password\"></Form.Control>\r\n                                </Form.Group>\r\n                                <Row className = \"py-3\">\r\n                                    <Col>\r\n                                        {(error !== undefined) ?  (<p className = \"text-center error\" data-aos = \"fade-in\">{error}</p>) : <></>}\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row  className = \"pb-3\">\r\n                                    <Col className = \"d-flex justify-content-center\">\r\n                                        <Button className = \"button btn-outline-grey\" type = \"submit\">Login</Button>\r\n                                    </Col>\r\n                                </Row>\r\n                                <Row>\r\n                                    <Col>\r\n                                        {(error === \"It appears you don't have an account with us, try registering\") ? (<p className = \"text-center\" data-aos = \"fade-in\">Don't have an account? <a href = \"/register\">Register</a></p>) : <></>}\r\n                                    </Col>\r\n                                </Row>\r\n                            </Form>\r\n                        </Col>\r\n                    </Row>\r\n                </Container>\r\n            </section>\r\n            <Footer></Footer>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Login\r\n"]},"metadata":{},"sourceType":"module"}